
<!doctype html>
<html>
    <head>
        <!-- Metatags -->
        <!-- Charset -->
        <meta charset="utf-8">
        <!-- Mobile viewport optimized -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- SEO metadata -->
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="author" content="">
        <!-- Title -->
        <title>Tutorial</title>
        <!-- Linktags -->
        <!-- Stylesheets -->
        <link href="_static/bootstrap.css" rel="stylesheet">
        <link href="_static/pygments.css" rel="stylesheet">
        <link href="_static/subcmd.css" rel="stylesheet">
        <!-- Headextra -->
    </head>
    <body>
        <div class="container">
    <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>The most simple example use of <strong>subcmd</strong> is a class that inherits from
<a class="reference internal" href="api.html#subcmd.app.App" title="subcmd.app.App"><tt class="xref py py-class docutils literal"><span class="pre">subcmd.app.App</span></tt></a> base object. Then ( and by default ), all methods
of this created class which starts with prefix &#8220;<em>do_</em>&#8221; will be available
as subcommands.</p>
<p>With <a class="reference internal" href="api.html#subcmd.decorators.option" title="subcmd.decorators.option"><tt class="xref py py-meth docutils literal"><span class="pre">subcmd.decorators.option()</span></tt></a> and <a class="reference internal" href="api.html#subcmd.decorators.arg" title="subcmd.decorators.arg"><tt class="xref py py-meth docutils literal"><span class="pre">subcmd.decorators.arg()</span></tt></a>
decorators you can add positional arguments and valued options to each command.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">subcmd.app</span> <span class="kn">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">subcmd.decorators</span> <span class="kn">import</span> <span class="n">option</span>
<span class="kn">from</span> <span class="nn">subcmd.decorators</span> <span class="kn">import</span> <span class="n">arg</span>

<span class="k">class</span> <span class="nc">Application</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;a description of the example app&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;example&#39;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s">&#39;0.1&#39;</span>
    <span class="n">default_args</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;--help&#39;</span><span class="p">]</span>

    <span class="nd">@option</span><span class="p">(</span><span class="s">&#39;--log&#39;</span><span class="p">,</span> <span class="s">&#39;-l&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">&#39;store_true&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&#39;log foo is on&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">do_foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;help text for foo subcommand&quot;&quot;&quot;</span>
        <span class="k">print</span> <span class="n">options</span>

    <span class="nd">@option</span><span class="p">(</span><span class="s">&#39;-f&#39;</span><span class="p">,</span> <span class="s">&#39;--force&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">&#39;store_true&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&#39;force bar execution&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">do_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;help text for bar subcommand&quot;&quot;&quot;</span>
        <span class="k">print</span> <span class="n">options</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">cmdline</span><span class="p">()</span>
</pre></div>
</div>
<p>Executing this script with no command line arguments will output:</p>
<div class="highlight-python"><pre>$ python example.py

usage: example.py [-h] [-v] {foo,bar} ...

a description

optional arguments:
  -h, --help     show this help message and exit
  -v, --version

subcommands:
  valid subcommands

  {foo,bar}      additional help
    bar          help text for bar subcommand
    foo          help text for foo subcommand

an epilog</pre>
</div>
<p>You can see how if no argument is specified an automatic usage help message
is shown.</p>
<p>Also all docstrings definint both class object and every method starting with
&#8220;do_&#8221; are converted to help descriptions for each command.</p>
<p>Finally <strong>subcmd</strong> ads by default some arguments that are common on all CLI
based tools like <tt class="docutils literal"><span class="pre">--version</span></tt> ( wich shows the version string of your tool ) and
<tt class="docutils literal"><span class="pre">--help</span></tt> ( wich generates the same usage message you see if no command line
arguments are specified ).</p>
<p><strong>subcmd</strong> provides a lot of more features and customization options, refer to
the detailed <a class="reference internal" href="manual.html#manual"><em>manual</em></a> for more information.</p>
</div>

        </div>
        <footer>
            <hr/>
            Raül Pérez, <a href="mailto:repejota@gmail.com">repejota@gmail.com</a>
        </footer>
        <!-- Scripts -->
        <script src="_static/jquery.js"></script>
        <script src="_static/bootstrap.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/subcmd.js"></script>
        <script type="text/javascript">
            var DOCUMENTATION_OPTIONS = {
                url_root: ''
                , version: 'v0.0.1'
                , collapse_index: false
                , file_suffix: '.html'
                , has_source:  true
            };
        </script>
    </body>
</html>